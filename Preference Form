<script runat=server>
	Platform.Load("Core","1");
  var responseObject;
	try
	{
    responseObjectString = HTTP.Get('http://cloud.content.jdrf.org/preferencesajax?contactKey=' + GetQueryStringParameter('contactKey'));
    eval("responseObject = " + responseObjectString);
	}
	catch(e)
	{
		responseObject.error = e.message;
	}
</script>

<html>
<head>
  <meta http-equiv="pragma" content="no-cache" />
</head>
<body>

TEST 1

<form action="#" method="post" target="self">
<script runat=server>
Platform.Response.Write(responseObjectString + "</br></br>");
var index;
for (index = 1; index <= responseObject.publicationListSettings.length; index++) {
    Platform.Response.Write("<input type=\"checkbox\"" + "/>" + responseObject.publicationLists[index].Title + "</br></br>");
}
</script>
</form>
</body>
</html>
